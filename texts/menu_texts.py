# –¢–µ–∫—Å—Ç—ã –∫–Ω–æ–ø–æ–∫
import collections

from functions import menu_functions
import datetime as dt

MENU_GET_CODE_BUTTON_TEXT = "–ú–æ–π –∫–æ–¥"
MENU_PROFILE_BUTTON_TEXT = "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
MENU_SCHEDULE_BUTTON_TEXT = "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"
MENU_STORE_BUTTON_TEXT = "–ú–∞–≥–∞–∑–∏–Ω"
MENU_PROMO_BUTTON_TEXT = "–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥"
MENU_HELP_BUTTON_TEXT = "–°–ø—Ä–∞–≤–∫–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞"

TOO_FREQUENTLY_TEMPLATE = "–¢—ã —Å–ª–∏—à–∫–æ–º –æ–±—â–∏—Ç–µ–ª—å–Ω—ã–π! –ü–æ–¥–æ–∂–¥–∏ {} –∏ —Å–º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —Å–Ω–æ–≤–∞. –ê –ø–æ–∫–∞ —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é —Ç–µ–±—è –≤ –º–µ–Ω—é üòâ"

HELP_BUTTON_TEXT = "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"
BACK_BUTTON_TEXT = "–ù–∞–∑–∞–¥"
CANCEL_TEXT = "–û—Ç–º–µ–Ω–∞"

# –¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
RESPOND_TEXT = "–°–Ω–∏–∑—É –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é, –º–æ–∂–µ—à—å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å."
MENU_TEXT = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–æ—ë –º–µ–Ω—é! –ù–∞–∂–∏–º–∞–π –Ω–∞ –∫–Ω–æ–ø–æ—á–∫–∏ —Å–Ω–∏–∑—É üòé"

GENERATE_CODE_TEMPLATE = "–¢–≤–æ–π –∫–æ–¥ üî¢\n\n<b>{}</b>"
PROFILE_TEMPLATE = "{} üë§\n\n–ë–∞–ª–∞–Ω—Å: {}i\n\n–ú–Ω–æ–≥–æ—á–ª–µ–Ω—Å—Ç–≤–æ –≤ –ü—Ä–æ—Ñ–∫–æ–º–µ: {}"
PROFILE_ERROR = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ - —Ç–µ–±—è –Ω–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö"

TUC_TEXTS = {
    0: "–Ω–µ –≤ –ü—Ä–æ—Ñ–∫–æ–º–µ",
    1: "–≤ –ü—Ä–æ—Ñ–∫–æ–º–µ",
    2: "–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ"
}

NO_SCHEDULE_TEXT = "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É—Å—Ç–æ"

EVENT_NOT_FOUND_TEXT = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–æ–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"
MESSAGE_CANT_BE_EDITED_TEXT = "–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è :("

HELP_INPUT_REQUEST = "–í–≤–µ–¥–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å"
HELP_MESSAGE_SENT = "–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞—é —Ç–µ–±—è –≤ –º–µ–Ω—é"
BACK_TO_MENU_TEXT = "–•–æ—Ä–æ—à–æ, –≤–æ–∑–≤—Ä–∞—â–∞—é —Ç–µ–±—è –≤ –º–µ–Ω—é"
TO_SUPPORT_MESSAGE_TEMPLATE = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{}\n" \
                              "–°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ\n{}\n" \
                              "–û–Ω –Ω–∞–ø–∏—Å–∞–ª:\n{}"

PROMO_INPUT_REQUEST = "–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤, –≤–≤–µ–¥–∏ –µ–≥–æ —Å—é–¥–∞"
PROMO_SUCCESSFULLY_ACTIVATED_TEXT = "–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –í–æ–∑–≤—Ä–∞—â–∞—é —Ç–µ–±—è –≤ –º–µ–Ω—é üòé"
PROMO_ALREADY_USED = "–¢—ã —É–∂–µ –≤–≤–æ–¥–∏–ª —ç—Ç–æ—Ç –ø—Ä–æ–º–æ–∫–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞—é —Ç–µ–±—è –≤ –º–µ–Ω—é"
PROMO_DOESNT_EXISTS = "–ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω üòï –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑!"

STORE_TEMP_TEXT = "–Ø –µ—â—ë –Ω–µ –æ—Ç–∫—Ä—ã–ª –¥–≤–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω—á–∏–∫–∞ üòâ"

HELP_TEXT = """–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É

–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ù–µ–¥–µ–ª–µ –ú–∞—Ç–º–µ—Ö–∞. –°–æ –º–Ω–æ–π —Ç—ã —Å–º–æ–∂–µ—à—å –∫–æ–ø–∏—Ç—å –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∏—Ö –≤ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ä—á, —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —É–∑–Ω–∞–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –ù–µ–¥–µ–ª–∏.

–ß—Ç–æ–±—ã –Ω–∞—á–∏—Å–ª–∏—Ç—å –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∑–∞ —É—á–∞—Å—Ç–∏–µ, –ø–æ–∫–∞–∂–∏ —Å–≤–æ–π –∫–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –≤–æ –≤—Ä–µ–º—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ö–æ–¥ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–π –∫–æ–¥" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é.

–í–æ –≤—Ä–µ–º—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –≤—ã–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã. –ï—Å–ª–∏ —Ç—ã –ø–æ–ª—É—á–∏–ª(–∞) –ø—Ä–æ–º–æ–∫–æ–¥, –≤–≤–µ–¥–∏ –µ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é.

–ö–æ–≥–¥–∞ —É —Ç–µ–±—è –Ω–∞–±–µ—Ä—ë—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–∏–º—ã—Ö –µ–¥–∏–Ω–∏—Ü, —Ç—ã —Å–º–æ–∂–µ—à—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ä—á –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–∞–≥–∞–∑–∏–Ω" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ä—á–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –¥–ª—è —á–ª–µ–Ω–æ–≤ –ü—Ä–æ—Ñ–∫–æ–º–∞ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–∫–∏–¥–∫–∏. –ó–∞–±—Ä–∞—Ç—å –º–µ—Ä—á –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Ü–µ –ù–µ–¥–µ–ª–∏.

–ó–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ù–µ–¥–µ–ª–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –º–µ–Ω—è —Å–ø–∞—Å–∏–±–æ: –ü—Ä–æ—Ñ–∫–æ–º—É, –°—Ç—É–¥—Å–æ–≤–µ—Ç—É, –°–ü–û –£–Ω–∏—Å–æ–Ω –∏ –°–∫–∞–∑–∫–∞.

"""

SCHEDULE_TEXT = """"üéà –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
13:00 ‚Äì –û—Ç–∫—Ä—ã—Ç–∏–µ –ù–µ–¥–µ–ª–∏. –ú–∞—Ç–º–µ—Ö, –≥–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥
18:00 ‚Äì –ß–ì–ö 1 —Ç—É—Ä. –ú–∞—Ç–º–µ—Ö, —á–∏—Ç–∞–ª—å–Ω—ã–π –∑–∞–ª

üé∑ –í—Ç–æ—Ä–Ω–∏–∫
19:00 ‚Äì –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–æ-–º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä. –ö–æ–Ω—Ü–µ—Ä—Ç. –ü–ú-–ü–£, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª

üí∏ –°—Ä–µ–¥–∞
–Ø—Ä–º–∞—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–¢–∏–Ω—å–∫–æ—Ñ—Ñ, –Ø–Ω–¥–µ–∫—Å, P&G‚Ä¶)
12:00 ‚Äì –°—Ç–µ–Ω–¥—ã. –ú–∞—Ç–º–µ—Ö, –∞–∫–≤–∞—Ä–∏—É–º 16:30 ‚Äì –õ–µ–∫—Ü–∏–∏. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 01

üë®‚Äçü¶≥ –ß–µ—Ç–≤–µ—Ä–≥
17:00 ‚Äì –õ–µ–∫—Ü–∏–∏ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤.–ú–∞—Ç–º–µ—Ö, –∞—É–¥. 405

‚ôüÔ∏è –ü—è—Ç–Ω–∏—Ü–∞
18:00 ‚Äì –®–∞—Ö–º–∞—Ç–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 2389
18:00 ‚Äì –ß–ì–ö –§–∏–Ω–∞–ª. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 2510
18:00 ‚Äì –ë–∞—Å–∫–µ—Ç–±–æ–ª. –ú–∞—Ç–º–µ—Ö, —Å–ø–æ—Ä—Ç–∑–∞–ª

üéä –°—É–±–±–æ—Ç–∞
Campus Fest, –ü–£–ù–ö –°–ü–±–ì–£

ü™© –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
18:00 ‚Äì –î–∏—Å–∫–æ—Ç–µ–∫–∞. –ù–∞–±. –û–±–≤–æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, 136"""


def get_event_text(event: dict):
    if not event:
        return EVENT_NOT_FOUND_TEXT
    return event["description"]


# def get_event_text(event: dict):
#     if not event:
#         return EVENT_NOT_FOUND_TEXT
#     week_str = menu_functions.get_weekday_str(event["datetime"])
#     time_str = dt.datetime.strftime(event["datetime"], "%H:%M")
#     name = event["name"]
#     description = event["description"]
#     res = f"""<b>{name}</b>
#
# üìÖ
# {week_str.capitalize()} –≤ {time_str}
#
# ‚ÑπÔ∏è
# {description}"""
#     return res
