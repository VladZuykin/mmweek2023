from enum import Enum
import datetime as dt
from middleware.functions import dt_to_dtdict, dtdict_to_str, ACCUSATIVE_TIME_UNITS_FORMS

import pytz

MAX_FULLNAME_LEN = 300
TZ = pytz.timezone("Europe/Moscow")
DATETIME_FORMAT = "%d.%m.%Y %H.%M"
LOG_DATETIME_FORMAT = "%d.%m.%Y %H.%M.%S"
SUPPORT_TIMEDELTA = dt.timedelta(minutes=120)
SUPPORT_TIMEDELTA_ACCUSATIVE_STR = dtdict_to_str(dt_to_dtdict(SUPPORT_TIMEDELTA), ACCUSATIVE_TIME_UNITS_FORMS)
PREVIOUS_REGISTERED_BOT_REWARD = 150
LETTERING_PERIOD = 0.5

STORE_PATH = "misc/store/"

PERIOD_TYPES = ['—á', '–¥']

LETTERING_ADMIN_ID = 702447805


class TransactionTypes(Enum):
    USER_REGISTER = "user_register"
    SUPPORT_REQUEST = "support_request"  # –ó–∞–ø—Ä–æ—Å –≤ —Ç–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫—É
    PROMO_USAGE = "promo_usage"
    PROMO_CREATE = "create_promo"
    SET_TUC = "set_tuc"  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tuc
    CODE_GENERATE = "code_generate"
    MONEY_GET = "money_get"
    ADMIN_GAVE = "admin_gave"
    ENTER = "enter"
    PURCHASE_SUCCESS = "purchase_success"
    PURCHASE_FAIL = "purchase_fail"
    ADMIN_TAKE_OUT = "admin_take_out"
    ISSUE_MERCH = "merch_issue"
    MERCH_RETURN_BACK = "merch_return_back"
    ISSUE_MERCH_FAIL = "issue_merch_fail"
    MERCH_RETURN_BACK_FAIL = "merch_return_back_fail"


HELP_TEXT = """<b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>

–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ù–µ–¥–µ–ª–µ –ú–∞—Ç–º–µ—Ö–∞. –°–æ –º–Ω–æ–π —Ç—ã —Å–º–æ–∂–µ—à—å –∫–æ–ø–∏—Ç—å –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∏—Ö –≤ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ä—á, —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —É–∑–Ω–∞–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö –ù–µ–¥–µ–ª–∏.

–ß—Ç–æ–±—ã –Ω–∞—á–∏—Å–ª–∏—Ç—å –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∑–∞ —É—á–∞—Å—Ç–∏–µ, –ø–æ–∫–∞–∂–∏ —Å–≤–æ–π –∫–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –≤–æ –≤—Ä–µ–º—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ö–æ–¥ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–π –∫–æ–¥" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é.

–í–æ –≤—Ä–µ–º—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –≤—ã–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–Ω–∏–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã. –ï—Å–ª–∏ —Ç—ã –ø–æ–ª—É—á–∏–ª(–∞) –ø—Ä–æ–º–æ–∫–æ–¥, –≤–≤–µ–¥–∏ –µ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é.

–ö–æ–≥–¥–∞ —É —Ç–µ–±—è –Ω–∞–±–µ—Ä—ë—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–∏–º—ã—Ö –µ–¥–∏–Ω–∏—Ü, —Ç—ã —Å–º–æ–∂–µ—à—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ä—á –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–∞–≥–∞–∑–∏–Ω" –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ä—á–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –¥–ª—è —á–ª–µ–Ω–æ–≤ –ü—Ä–æ—Ñ–∫–æ–º–∞ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–∫–∏–¥–∫–∏. –ó–∞–±—Ä–∞—Ç—å –º–µ—Ä—á –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Ü–µ –ù–µ–¥–µ–ª–∏.

–ó–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ù–µ–¥–µ–ª–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –º–µ–Ω—è —Å–ø–∞—Å–∏–±–æ: –ü—Ä–æ—Ñ–∫–æ–º—É, –°—Ç—É–¥—Å–æ–≤–µ—Ç—É, –°–ü–û –£–Ω–∏—Å–æ–Ω –∏ –°–∫–∞–∑–∫–∞.

"""

SCHEDULE_TEXT = """"üéà <b>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</b>
13:00 ‚Äì –û—Ç–∫—Ä—ã—Ç–∏–µ –ù–µ–¥–µ–ª–∏. –ú–∞—Ç–º–µ—Ö, –≥–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥
18:00 ‚Äì –ß–ì–ö 1 —Ç—É—Ä. –ú–∞—Ç–º–µ—Ö, —á–∏—Ç–∞–ª—å–Ω—ã–π –∑–∞–ª

üé∑ –í—Ç–æ—Ä–Ω–∏–∫
19:00 ‚Äì –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–æ-–º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä. –ö–æ–Ω—Ü–µ—Ä—Ç. –ü–ú-–ü–£, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª

üí∏ –°—Ä–µ–¥–∞
–Ø—Ä–º–∞—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–¢–∏–Ω—å–∫–æ—Ñ—Ñ, –Ø–Ω–¥–µ–∫—Å, P&G‚Ä¶)
12:00 ‚Äì –°—Ç–µ–Ω–¥—ã. –ú–∞—Ç–º–µ—Ö, –∞–∫–≤–∞—Ä–∏—É–º 16:30 ‚Äì –õ–µ–∫—Ü–∏–∏. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 01

üë®‚Äçü¶≥ –ß–µ—Ç–≤–µ—Ä–≥
17:00 ‚Äì –õ–µ–∫—Ü–∏–∏ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤.–ú–∞—Ç–º–µ—Ö, –∞—É–¥. 405

‚ôüÔ∏è –ü—è—Ç–Ω–∏—Ü–∞
18:00 ‚Äì –®–∞—Ö–º–∞—Ç–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 2389
18:00 ‚Äì –ß–ì–ö –§–∏–Ω–∞–ª. –ú–∞—Ç–º–µ—Ö, –∞—É–¥. 2510
18:00 ‚Äì –ë–∞—Å–∫–µ—Ç–±–æ–ª. –ú–∞—Ç–º–µ—Ö, —Å–ø–æ—Ä—Ç–∑–∞–ª

üéä –°—É–±–±–æ—Ç–∞
Campus Fest, –ü–£–ù–ö –°–ü–±–ì–£

ü™© –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
18:00 ‚Äì –î–∏—Å–∫–æ—Ç–µ–∫–∞. –ù–∞–±. –û–±–≤–æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, 136"""
